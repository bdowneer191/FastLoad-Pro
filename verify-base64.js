const serviceAccountBase64 = "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiZmFzdGxvYWRwcm8iLAogICJwcml2YXRlX2tleV9pZCI6ICI4MDE5ZGY0OGFmODA3ZjQyNDAyZmNiMjU4ZmVlNDM0MGI0NTdmMjNhIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUURRTU41MmVZZG8xbGpoXG5hWjhZemc0M3RTOXNydjg4clFubEhjTjZpc1NkU2NNK2Z3eSsrU0liZnRMSVQ1RE5reGFzQVU0Qk1lQ3FJM2srXG5BQXJlSlA1aUtwMU9XeDVMTHFNcVJWV3RzemMwcUNRaW1KKyt2Vk9FTlJJVmRmd2VNQ2ZpTTdVbHpyYzZCV2hcblpSQ01WdEt3a1NRWDd3ZWRIU3FHeDNOSkNxaUVKWG9abVpkdGxCY1pNOVc1dGFmS1BoTGVDSmdWZGxUK3o2UVlcbnZYQkV4MWt5NmEvd3dwdUV4U2N2THF3RmJrZ1hDOXhPckVBZmxzQ25qWFNRUEVMMWltVFRoMndrWHl1YlpCSlJcbm9xTG9aWVU5MkdKL3B1aEFoazFJckNOd3VjenpaeS8rVUFtdU9OcEVqcHp2dXZCbm5CejRWNFdQTEVFeEovbDBcbmZnS0xPQWR2QWdNQkFBRUNnZ0VBQmdudFNPRTFDMk11S0JOM0tLM1pWUTRrS3Q2VWYoNzZnUitbVlpvUk40SmdKSVxuc0t0cGpwUENPdU5CSWxrQmFsSGcwbXlETE04bDc0eUcwanlsZXFTWk01dEMzUEVOSkxjS21nUWJPb3ZlQnpocWZcblkZWhjTjBJSnV6Yk5ZQ0dzcFBsMjFSN2VOSWtoMm5EK1FqU0NkKzVWU2VQcWgrb0dPbzc3cU93TFZQbE9va1xuOUptU3hNTFZDZ1drcUdoaHVKK0lzcnA1V1BmQmQ3K3ovej9qS1lsVnErQVVQR3YrVE5zZVdtNXdBaTJKR1M2SGVkXG5lMU00cWVwMEp4NjNiWFZlRWxNNWlKNUpMT0R5QU8wdDJ5SGQ5N1lvMm5ON2w5RG1KRStsaDdHRGN5dlRQQmhHR1xuRWdSc2hNOTRvcmplM2FwaUdlMmpvV2NuY3Z6SDZLNzZROTdPU1lKc1FrQmdRRER4ZkFSbG5BZCxOSE03QzBab1xucm9KMlo0TjlNRFpGbjFONGVqb0xmZXBsZlNHM1UyUm92WlorSDZieXRzNDhaUFQyQ1BpdUt0OEs2T2NlNTZoQlxuM0J4Qkt2c01SbHZCRkhYQVN3T0ZrRVNPRzY0UU9DUzdxM2xCM1BuSlBrNkYzVWN1cUU3KzlzbGhKQlRpZTVkSlxuMVBFOWVYZGU4YzNJUWFCVTFpVVRWK01vUFFLR2dRVFRWdmVLczNwUG9yN2xvTHFJVUpawjVPWUsrUGpaS1hBb1xuZUU5dzRrdmJrc09TVS9ZdEx1eGRkUjZWZGw1WmNwNDVoYmJ5YXNON056UmZkclphWkN4QUtYeVJMcThjblVGXG53UDl2UURrOG1lcmxNWkRJbkNkdGNMK3BkSnIwSlZ1emtuYkxFVXZlcmJiVFB6aXpyayNNNEtRTUxEbEFxeFJUWC8xcnNwMXVGOXdsdWtCZ1FETm9rT0JKMnErL2dNQmtiMHRQUCtoNFZrT1Rmb2hIZWN1ZXU5RVZhZ2xoc3ZpTXRpdG1cbmRnWTc5Y1Z1dWVVTTlFT3hyekZWdlRseUFXNWxtSDN1TkJoaHNEd29sbnstbS9naEFaSTdpL1Y5WVFFVXJTK094XG5ydDZyNWgxYS1kd3hqTSthNmJ5SG1IeTNwd0dmVWlKMWcxOURQa2ROWkdOSnl0eitpNXRWZ0VmbXVRS0JjR056XG5hRWhRQ3I4OG5oUHhhSlFPejI2U3hKNXRScFFQZWV4b2Z5cDR1NW1aYzJVSTVUYmMtMXMvMnNwZUVlZTNwSmZcblhXV0FnZkhHanE5MWFqRG03K0FmUHJXZVlaT1g5akVEY2JGa2t1cmVNLzdtc1NWSGlxL3RiL1Q2ZFpWN01kYTNcblRaWEc1TUFuR2NPdnc5QTR5RFVueXVMOHlBTjZqaytZVHFOOWh4eHBLb0dBTWZwTGFOQVFWU3l6V0pTeTUteWxcblR0ZjNDcjZBTjNRTCu5NTQzTGRnNVpzbFdCVTl3cEhlSWpvQWpMSWNaV2ordHJocTFQWk9lZHkyaXJKN0E5bjZcblhWZHMyYm9mY3hPSUxHMGNMbzBKEFFZcGN2SThvd285SnV2Y3JuNW1UdEpGV3pRMnhrSUlEeTlYQ3VQdEprc1xuTnV0Y3ZDNVVpZi91NHM3WXNscnpWbGc9XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLAogICJjbGllbnRfZW1haWwiOiAiZmlyZWJhc2UtYWRtaW5zZGstZmJzdmNAZmFzdGxvYWRwcm8uaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTE0ODEzNTE3ODY0NTYzMDA0ODUxIiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay1mYnN2YyU0MGZhc3Rsb2FkcHJvLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAidW5pdmVyc2VfZG9tYWluIjogImdvb2dsZWFwaXMuY29tIgp9Cg==";
const serviceAccountJson = Buffer.from(serviceAccountBase64, 'base64').toString('utf8');
try {
  const serviceAccount = JSON.parse(serviceAccountJson);
  const newServiceAccount = {
    type: serviceAccount.type,
    project_id: serviceAccount.project_id,
    private_key_id: serviceAccount.private_key_id,
    private_key: serviceAccount.private_key.replace(/\\n/g, '\n'),
    client_email: serviceAccount.client_email,
    client_id: serviceAccount.client_id,
    auth_uri: serviceAccount.auth_uri,
    token_uri: serviceAccount.token_uri,
    auth_provider_x509_cert_url: serviceAccount.auth_provider_x509_cert_url,
    client_x509_cert_url: serviceAccount.client_x509_cert_url,
    universe_domain: serviceAccount.universe_domain,
  };
  console.log(JSON.stringify(newServiceAccount, null, 2));
  console.log("\nBase64 string is a valid JSON object.");
} catch (e) {
  console.error("\nFailed to parse Base64 string as JSON:", e.message);
}
